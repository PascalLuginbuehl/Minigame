{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","js/Classes/Communicator.ts","js/Classes/Entity.ts","js/Classes/Game.ts","js/Classes/Hitbox.ts","js/Classes/Input.ts","js/Classes/Model.ts","js/Classes/Rectangle.ts","js/Classes/Render.ts","js/Classes/Vector.ts","js/game.ts"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","Vector_1","Communicator","game","_this","this","websocket","WebSocket","onopen","send","onerror","error","console","log","onmessage","data","JSON","parse","action","updateMovement","params","loadStaticElements","loadMovingElements","prototype","_a","arrayPosition","force","entitys","default","param","loadMap","sendInput","v","stringify","Object","defineProperty","value","Entity","_b","positionX","_c","positionY","model","texture","solid","static","position","velocity","renderTexture","ctx","undefined","lastSprite","spriteMax","rad","Math","atan2","x","y","round","PI","direction","speed","save","translate","drawImage","textureSize","floor","restore","Model_1","Entity_1","Game","config","height","map","width","models","name","addEntity","expectedInterval","window","performance","now","gameLoopInterval","setTimeout","gameLoop","bind","entity","push","specialInput","overtime","overtimeError","delay","acceleration","scale","add","collision","entity2","hitbox","checkCollision","exportMap","returnValue","Rectangle_1","Hitbox","hitboxconf","hitboxes","collisionBox","getCollisionBox","origin","eOrigin","eHitbox","max","biggest","min","smalest","Input","communicator","player","keys","w","d","ArrowUp","ArrowLeft","ArrowDown","ArrowRigth","__proto__","addEventListener","hasOwnProperty","key","preventDefault","Hitbox_1","Model","staticElem","Rectangle","_d","_e","h","originRect","rect","rectMin","thisMin","drawRect","fillStyle","fillRect","Render","canvasParent","debugging","canvas","document","createElement","documentElement","clientHeight","clientWidth","appendChild","style","imageRendering","getContext","name_1","img","Image","textures","src","setInterval","render","clearRect","i_1","V","subtract","dot","cross","rotate","angle","vector","x_prime","cos","sin","y_prime","Game_1","Communicator_1","Render_1","Input_1","CONFIG","textureBasepath","dirt","house","duck","input","body","renderHitbox"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import Game from \"./Game\";\nimport V from \"./Vector\";\n/**\n * Errorhandling for Client Server has its own...\n * Websocket here\n *\n */\nclass Communicator {\n  websocket: WebSocket;\n  game: Game\n\n  constructor(game) {\n    this.websocket = new WebSocket('ws://localhost');\n\n    this.websocket.onopen = () => {\n      this.websocket.send('Ping');\n    };\n\n    // Log errors\n    this.websocket.onerror = (error) => {\n      console.log('WebSocket Error ' + error);\n    };\n\n    // Log messages from the server\n    this.websocket.onmessage = (e) => {\n      // console.log(e.data);\n      try {\n        let data = JSON.parse(e.data);\n        switch (data.action) {\n          case \"updateMovement\":\n            this.updateMovement(data.params);\n            break;\n          case \"loadStaticElements\":\n            this.loadStaticElements(data.params);\n            break;\n          case \"loadMovingElements\":\n            this.loadMovingElements(data.params);\n            break;\n          }\n      } catch (e) {\n        console.error(e);\n      }\n\n\n    };\n\n\n\n    this.game = game;\n    // game.__proto__.overtimeError = (overtime) => {\n    //   // console.log(overtime);\n    //   // console.log(this);\n    //   this.expectedInterval = window.performance.now();\n    //   // this.loadMap();\n    // };\n  }\n\n  /**\n   * sets force to force on arrayPosition\n   * @param {number} arrayPosition - position in Array\n   * @param {vector} force - new Force value\n   */\n  updateMovement({arrayPosition: arrayPosition, force: force}) {\n    this.game.entitys[arrayPosition].force = new V(force);\n    // console.log(this.game.entitys[arrayPosition]);\n  }\n\n  /**\n   * Initialises static Elements which cant move\n   * @param\n   */\n  loadStaticElements(param) {\n\n  }\n\n\n  loadMovingElements(param) {\n\n  }\n\n  loadMap() {\n\n  }\n\n\n\n  sendInput(v) {\n    this.websocket.send(JSON.stringify(v));\n  }\n}\n\nexport default Communicator;\n","import Model from \"./Model\";\nimport V from \"./Vector\";\n\nclass Entity {\n  model: Model;\n  force: V;\n  velocity: V;\n  position: V;\n  lastSprite: number;\n\n  constructor({positionX = 0, positionY = 0, texture = 0, solid = false, static: staticElem = false, model: model}) {\n    // position\n    // left top of hitbox\n    this.position = new V(positionX, positionY);\n\n    // velocity for movement\n    this.velocity = new V(0, 0);\n\n    // pulls into Direction\n    this.force = new V(0, 0);\n\n    // IDEA: z-index\n\n    // Textures and rest is safed in here\n    this.model = model;\n  }\n\n  renderTexture(ctx) {\n    if (this.lastSprite == undefined || this.lastSprite >= this.model.spriteMax) {\n      this.lastSprite = 0;\n    }\n\n    // get direction\n    let rad = Math.atan2(this.velocity.x, this.velocity.y);\n    let a = Math.round(rad * (4 / Math.PI));\n    let direction = (a < -0 ? a * (-1) + 4 : a);\n    let speed = 0;\n    switch (direction) {\n      case 0:\n        speed = this.velocity.y;\n        break;\n      case 1:\n        speed = (this.velocity.x + this.velocity.y) / 2\n        break;\n\n      case 2:\n        speed = this.velocity.x;\n        break;\n\n      case 3:\n        speed = (this.velocity.x + (this.velocity.y * -1)) / 2\n        break;\n\n      case 8:\n      case 4:\n        speed = this.velocity.y * -1\n        break;\n\n      case 5:\n        speed = ((this.velocity.x * -1) + this.velocity.y) / 2\n        break;\n\n      case 6:\n        speed = this.velocity.x * -1\n        break;\n\n      case 7:\n        speed = ((this.velocity.x + this.velocity.y) / 2) * -1\n        break;\n    }\n\n\n    this.lastSprite += speed / 500;\n    // get direction\n    // get speed into direction\n    // Get texture\n    // Add to last sprite\n    // render\n\n    ctx.save();\n\n    // add center to it so it can rotate from center\n    // ctx.translate(this.position.x + this.center.x, this.position.y + this.center.y);\n    ctx.translate(this.position.x, this.position.y);\n    // ctx.rotate(this.angle);\n\n    ctx.drawImage(this.model.texture, this.model.textureSize.x * Math.floor(this.lastSprite), 0, this.model.textureSize.x, this.model.textureSize.y, 0, 0, this.model.textureSize.x, this.model.textureSize.y);\n    // ctx.drawImage(this.texture, 0 - this.center.x, 0 - this.center.y, this.size.x, this.size.y);\n    ctx.restore();\n  }\n}\n\nexport default Entity;\n","import Model from \"./Model\";\nimport Entity from \"./Entity\";\n/**\n * Class for game logic\n * @author Pascal LuginbÃ¼hl\n * @version none\n */\nclass Game {\n  models: Object;\n  config: any;\n  height: number;\n  width: number;\n  entitys: Array<Entity>\n  expectedInterval: number;\n  /** Creates game\n   * @param {object} config - Config file\n   */\n  constructor(config) {\n    this.config = config;\n\n    // Map starting corner left bottom, render left top\n    // IDEA: Chunks for more performence\n\n    this.height = config.map.height;\n    this.width = config.map.width;\n    this.entitys = [];\n\n\n    this.models = {};\n    for (var name in this.config.models) {\n      this.models[name] = new Model(this.config.models[name]);\n    }\n\n\n    this.addEntity(new Entity({\n      positionX: 300,\n      positionY: 70,\n\n      model: this.models['duck'],\n    }));\n\n    this.addEntity(new Entity({\n      positionX: 0,\n      positionY: 0,\n\n      model: this.models['house'],\n    }));\n\n    this.addEntity(new Entity({\n      positionX: 700,\n      positionY: 700,\n\n      model: this.models['house'],\n    }));\n\n\n    // Timer for gameloop\n    this.expectedInterval = window.performance.now() + this.config.gameLoopInterval;\n    setTimeout(this.gameLoop.bind(this), this.config.gameLoopInterval);\n  }\n\n\n  addEntity (entity) {\n    this.entitys.push(entity);\n  }\n\n  // catch up loop\n  gameLoop() {\n    // special for communicator and input\n    this.specialInput();\n\n    let overtime = window.performance.now() - this.expectedInterval;\n\n    if (overtime > this.config.gameLoopInterval) {\n      this.overtimeError(overtime);\n      this.expectedInterval = window.performance.now();\n      // error, overtime longer then Interval, sync with server...\n    }\n\n    let delay = (overtime + this.config.gameLoopInterval) / 1000;\n    // console.log(delay);\n\n    // physics here\n    for (let i = 0; i < this.entitys.length; i++) {\n      let entity = this.entitys[i];\n      if (!entity.model.static) {\n\n        let acceleration = entity.force.scale(2000);\n        // idk wahts betta\n        // let friction = 0.08;\n        let friction = 0.8;\n        // entity.velocity = entity.velocity.add(acceleration.subtract(entity.velocity.scale(friction)));\n        entity.velocity = entity.velocity.add(acceleration.scale(delay)).scale(.92);\n        // console.log(entity.velocity);\n        let position = entity.position.add(entity.velocity.scale(delay));\n        // let rect = new Rectangle({min: entity.hitbox.min.add(entity.velocity.scale(delay)), max: entity.hitbox.max});\n        // velocity += acceleration * time_step\n        // position += velocity * time_step\n\n        let collision = false;\n\n        // collisions\n        for (let o = 0; o < this.entitys.length; o++) {\n          let entity2 = this.entitys[o];\n          // check collision\n\n          if (entity != entity2 && entity.model.solid && entity2.model.solid) {\n\n            // FIXME: do better physX\n            // Collision detection\n            if (entity.model.hitbox.checkCollision(position, entity2.position, entity2.model.hitbox)) {\n              collision = true;\n            }\n          }\n        }\n\n\n        if (collision) {\n          entity.velocity = entity.velocity.scale(.1);\n        } else {\n          entity.position = position;\n        }\n      }\n    }\n\n\n    this.expectedInterval += this.config.gameLoopInterval;\n    setTimeout(this.gameLoop.bind(this), this.config.gameLoopInterval - overtime);\n  }\n\n  overtimeError(overtime) {\n    console.error(\"overtimeError: \" + overtime);\n  }\n\n  specialInput() {\n\n  }\n\n  exportMap() {\n    let returnValue = [];\n    for (var i = 0; i < this.entitys.length; i++) {\n      let entity = this.entitys[i];\n\n      for (let model in this.models) {\n        if (this.models[model] == entity.model) {\n          returnValue.push({position: entity.position, velocity: entity.velocity, force: entity.force, model: model});\n        }\n      }\n    }\n    return returnValue;\n  }\n}\n\nexport default Game;\n","import V from \"./Vector\";\nimport Rectangle from \"./Rectangle\";\n\nclass Hitbox {\n  hitboxes: Array<Rectangle>;\n  collisionBox: Rectangle;\n\n  constructor(hitboxconf) {\n    this.hitboxes = [];\n    for (let i = 0; i < hitboxconf.length; i++) {\n      this.hitboxes.push(new Rectangle(hitboxconf[i]));\n    }\n\n    this.collisionBox = this.getCollisionBox();\n  }\n\n  checkCollision(origin, eOrigin, eHitbox) {\n    if (this.collisionBox.checkCollision(origin, eOrigin, eHitbox.collisionBox)) {\n      for (let i = 0; i < this.hitboxes.length; i++) {\n        let hitboxes = this.hitboxes[i];\n\n        for (let o = 0; o < eHitbox.hitboxes.length; o++) {\n\n          if (hitboxes.checkCollision(origin, eOrigin, eHitbox.hitboxes[o])) {\n            return true;\n          }\n        }\n      }\n    }\n    return false;\n  }\n\n  getCollisionBox() {\n    let max = new V(0, 0);\n\n    for (let i = 0; i < this.hitboxes.length; i++) {\n      let hitbox = this.hitboxes[i];\n\n      max = max.biggest(hitbox.min.add(hitbox.max));\n    }\n\n    let min = new V(max.x, max.y);\n\n    for (let i = 0; i < this.hitboxes.length; i++) {\n      min = min.smalest(this.hitboxes[i].min);\n    }\n\n    return new Rectangle({min: min, max: max});\n  }\n}\n\nexport default Hitbox;\n","import Game from \"./Game\";\nimport Communicator from \"./Communicator\";\nimport Entity from \"./Entity\";\nimport V from \"./Vector\";\n/**\n * Input for user inputs.\n * Communicator for communicating to WebSocket\n */\nclass Input {\n  game: Game\n  communicator: Communicator;\n  player: Entity;\n  keys: any;\n\n  constructor(game, communicator) {\n    this.game = game;\n    this.communicator = communicator;\n\n    this.player = new Entity({\n      positionX: 300,\n      positionY: 300,\n\n      model: this.game.models['duck'],\n    });\n\n    this.game.addEntity(this.player);\n    console.log(this.player);\n    this.keys = {\n      w: false,\n      a: false,\n      s: false,\n      d: false,\n      ArrowUp: false,\n      ArrowLeft: false,\n      ArrowDown: false,\n      ArrowRigth: false,\n    }\n\n\n    let keys = this.keys;\n    let player = this.player\n    game.__proto__.specialInput = function() {\n      // let v = new V(0, 0);\n      // if (keys.w) {\n      //   v.y-- ;\n      // }\n      // if (keys.a) {\n      //   v.x--;\n      // }\n      // if (keys.s) {\n      //   v.y++;\n      // }\n      // if (keys.d) {\n      //   v.x++;\n      // }\n      // player.force = v;\n    }\n\n    window.addEventListener('keydown', (e) => {\n      if (this.keys.hasOwnProperty(e.key)) {\n        this.keys[e.key] = true;\n        this.player.force = this.direction();\n\n        this.communicator.sendInput({action: \"updateMovement\",  params: {arrayPosition: 3, force: this.direction()}});\n        e.preventDefault();\n      }\n    });\n\n    window.addEventListener('keyup', (e) => {\n      if (this.keys.hasOwnProperty(e.key)) {\n        this.keys[e.key] = false;\n        this.player.force = this.direction();\n\n        this.communicator.sendInput({action: \"updateMovement\",  params: {arrayPosition: 3, force: this.direction()}});\n        e.preventDefault();\n      }\n    });\n  }\n\n  direction() {\n    let v = new V(0, 0);\n    if (this.keys.w) {\n      v.y-- ;\n    }\n    if (this.keys.a) {\n      v.x--;\n    }\n    if (this.keys.s) {\n      v.y++;\n    }\n    if (this.keys.d) {\n      v.x++;\n    }\n    return v;\n  }\n}\nexport default Input;\n","import Hitbox from \"./Hitbox\";\n\nclass Model {\n  solid: boolean;\n  static: boolean;\n  hitbox: Hitbox;\n  spriteMax: number;\n  texture: any;\n  textureSize: any;\n\n  constructor({solid: solid = true, static: staticElem = false, hitbox: hitbox}) {\n    // this.hitbox = [new Rectangle({x: 0, y: 0, w: 10, h: 10})];\n\n\n    // comes to renderengine\n    // IDEA: Also able to set via reference to type\n    // this.texture = texture;\n    // this.textureSize = new V(10, 10);\n\n    // FIXME: Fix inputs from config\n    // parameters\n    this.solid = solid;\n    this.static = staticElem;\n\n    this.hitbox = new Hitbox(hitbox);\n  }\n}\n\nexport default Model;\n","import V from \"./Vector\";\n\nclass Rectangle {\n  max: V;\n  min: V;\n\n  constructor({x: x = 0, y: y = 0, w: w = 0, h: h = 0, min: min, max: max}) {\n    if (min != undefined && max != undefined) {\n      this.min = min;\n      this.max = max;\n    } else {\n      this.min = new V(x, y);\n      this.max = new V(w, h);\n    }\n    // this._rotation = 0;\n    // let rotation = 5;\n    // this.center = new V(0, 0);\n  }\n\n  // get rotation() {\n  //   console.log(rotation, \"asd\");\n  //   return rotation;\n  // }\n\n  // set rotation(rotation) {\n  //   this._rotation = rotation;\n  // }\n\n  checkCollision(origin, originRect, rect) {\n    let rectMin = rect.min.add(originRect);\n\n    // let thisMin = rect.min.add(origin).add(rect.min);\n    let thisMin = this.min.add(origin);\n\n    if (thisMin.x < rectMin.x + rect.max.x && this.max.x + thisMin.x > rectMin.x && thisMin.y < rect.max.y + rectMin.y && this.max.y + thisMin.y > rectMin.y) {\n      return true;\n    }\n    return false;\n  }\n\n  drawRect(position, ctx) {\n    ctx.save();\n\n    // add center to it so it can rotate from center\n    // ctx.translate(this.position.x + this.center.x, this.position.y + this.center.y);\n    position = position.add(this.min);\n    ctx.translate(position.x, position.y);\n    // ctx.rotate(this.angle);\n    ctx.fillStyle = \"rgba(0, 0, 0, .3)\";\n    ctx.fillRect(0, 0, this.max.x, this.max.y);\n\n    // ctx.drawImage(this.texture, 0 - this.center.x, 0 - this.center.y, this.size.x, this.size.y);\n    ctx.restore();\n  };\n}\n\nexport default Rectangle;\n","import Game from \"./Game\";\nimport V from \"./Vector\";\nimport Entity from \"./Entity\";\nimport Rectangle from \"./Rectangle\";\n\n\nclass Render {\n  canvas: any;\n  ctx: CanvasRenderingContext2D;\n  origin: any;\n  game: Game;\n  debugging: any;\n\n\n  constructor(game, canvasParent, debugging, origin) {\n\n    this.canvas = document.createElement('canvas');\n    this.canvas.height = this.canvas.height = document.documentElement.clientHeight;\n    this.canvas.width = this.canvas.width = document.documentElement.clientWidth;\n\n    canvasParent.appendChild(this.canvas);\n\n    this.canvas.style.imageRendering = \"pixelated\";\n\n    this.ctx = this.canvas.getContext(\"2d\");\n\n    this.origin = origin;\n\n    // preload images\n    this.game = game;\n\n    this.debugging = debugging;\n\n\n    for (let name in this.game.models) {\n      let img = new Image();\n      let texture = this.game.config.textures[name];\n\n      img.src = \"assets/images/\" + texture.texture;\n\n      this.game.models[name].spriteMax = texture.spriteMax;\n      this.game.models[name].texture = img;\n      this.game.models[name].textureSize = new V(texture.w, texture.h);\n    }\n\n    window.addEventListener('resize', () => {\n      this.canvas.width = document.documentElement.clientWidth;\n      this.canvas.height = document.documentElement.clientHeight;\n    });\n\n\n\n\n    // this.render();\n    // setTimeout(this.render.bind(this), 1);\n\n    // standard Interval\n    setInterval(this.render.bind(this), Math.round(1000 / 60));\n  }\n\n\n  render() {\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    this.ctx.save();\n    this.ctx.translate(this.origin.position.x * -1 + this.canvas.width/2, this.origin.position.y * -1 + this.canvas.height/2);\n    // Clear old stuff\n\n\n    for (let i = 0; i < this.game.entitys.length; i++) {\n      let entity = this.game.entitys[i];\n\n      entity.renderTexture(this.ctx);\n      for (let i = 0; i < entity.model.hitbox.hitboxes.length; i++) {\n        entity.model.hitbox.hitboxes[i].drawRect(entity.position, this.ctx);\n      }\n    }\n    this.ctx.restore();\n  }\n}\nexport default Render;\n","class V {\n  x: number;\n  y: number;\n\n\n\n  constructor (x, y?) {\n    if (x instanceof Object) {\n      this.x = Math.round(x.x * 10) / 10;\n      this.y = Math.round(x.y * 10) / 10;\n    } else {\n      this.x = Math.round(x * 10) / 10;\n      this.y = Math.round(y * 10) / 10;\n    }\n  }\n\n  add(v) {\n    return new V(Math.round((v.x + this.x) * 10) / 10, Math.round((v.y + this.y) * 10) / 10);\n  }\n\n  subtract(v) {\n    return new V(Math.round((this.x - v.x) * 10) / 10, Math.round((this.y - v.y) * 10) / 10);\n  }\n\n  scale(s) {\n    return new V(Math.round((this.x * s) * 10) / 10 , Math.round((this.y * s) * 10) / 10);\n  }\n\n  dot(v) {\n    return (this.x * v.x + this.y * v.y);\n  }\n\n  cross(v) {\n    return (this.x * v.y - this.y * v.x);\n  }\n\n  smalest(v) {\n    let x = this.x < v.x ? this.x : v.x\n      , y = this.y < v.y ? this.y : v.y;\n    return new V(x, y);\n  }\n\n  biggest(v) {\n    let x = this.x > v.x ? this.x : v.x\n      , y = this.y > v.y ? this.y : v.y;\n    return new V(x, y);\n  }\n\n  rotate(angle, vector) {\n    let x = this.x - vector.x;\n    let y = this.y - vector.y;\n\n    let x_prime = vector.x + ((x * Math.cos(angle)) - (y * Math.sin(angle)));\n    let y_prime = vector.y + ((x * Math.sin(angle)) + (y * Math.cos(angle)));\n\n    return new V(x_prime, y_prime);\n  }\n}\n\n\nexport default V;\n","import Game from \"./Classes/Game\";\nimport Communicator from \"./Classes/Communicator\";\nimport Render from \"./Classes/Render\";\nimport Input from \"./Classes/Input\";\n\n'use strict'\n// IDEA: Circle collision\n// IDEA: z-index\n// IDEA: collision side\n// IDEA: Pathfinding\n// IDEA: sprites\n// IDEA: Players controller\n// IDEA: collsion speedup (AABB detection with outer part\n// FIXME: Outer colisionbox\n\nconst CONFIG = {\n  gameLoopInterval: 16,\n\n  map: {\n    height: 1000,\n    width: 1000,\n  },\n\n  textureBasepath: 'assets/images/',\n  textures: {\n    'dirt': {\n      texture: 'dirt.png',\n      w: 16,\n      h: 16,\n      spriteMax: 5,\n    },\n    'house': {\n      texture: 'house.png',\n      w: 254,\n      h: 198,\n      spriteMax: 1,\n    },\n    'duck': {\n      texture: 'player.png',\n      w: 16,\n      h: 18,\n      spriteMax: 4,\n    },\n  },\n\n  models: {\n    'dirt': {\n      solid: true,\n      static: false,\n      hitbox: [{\n        x: 0,\n        y: 0,\n        w: 16,\n        h: 16,\n      }],\n    },\n    'house': {\n      solid: true,\n      static: true,\n      hitbox: [{\n        x: 0,\n        y: 0,\n        w: 254,\n        h: 198,\n      }],\n    },\n    'duck': {\n      solid: true,\n      static: false,\n      hitbox: [{\n        x: 0,\n        y: 0,\n        w: 18,\n        h: 18,\n      }],\n    }\n  },\n}\n\n\nlet game = new Game(CONFIG);\nlet communicator = new Communicator(game);\nlet input = new Input(game, communicator);\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  let render = new Render(game, document.body, {\n    renderHitbox: true\n  }, input.player);\n});\n"],"sourceRoot":"/source/"}